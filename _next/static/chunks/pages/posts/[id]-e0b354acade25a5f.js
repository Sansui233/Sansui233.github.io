(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{766:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(1938).A)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},1e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return r}});let r=n(1532)._(n(148)).default.createContext({})},1088:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(1938).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3033:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(1938).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4752:(e,t)=>{"use strict";function n(e){let{ampFirst:t=!1,hybrid:n=!1,hasQuery:r=!1}=void 0===e?{}:e;return t||n&&r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return n}})},5418:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(1938).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},5658:(e,t,n)=>{e.exports=n(8860)},6227:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(1938).A)("SquareMenu",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 8h10",key:"1jw688"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M7 16h10",key:"wp8him"}]])},6351:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(1938).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6392:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[id]",function(){return n(7614)}])},6706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},6807:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,e:()=>i});let r=Object.getPrototypeOf(i).constructor;async function i(e,t){return new r(String(e))(t)}function o(e,t){return Function(String(e))(t)}},7009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=n(148),i=r.useLayoutEffect,o=r.useEffect;function a(e){let{headManager:t,reduceComponentsToState:n}=e;function a(){if(t&&t.mountedInstances){let i=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(i,e))}}return i(()=>{var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),()=>{var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}}),i(()=>(t&&(t._pendingUpdate=a),()=>{t&&(t._pendingUpdate=a)})),o(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},7614:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__N_SSG:()=>N,default:()=>$});var r=n(5640),i=n(5418),o=n(766),a=n(1938);let s=(0,a.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var l=n(6227);let c=(0,a.A)("ArrowUpToLine",[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]]);var d=n(9682),p=n(1493),m=n.n(p),h=n(5658),u=n.n(h),f=n(4672),g=n.n(f),x=n(2281),y=n(148),b=n(3158),w=n(6103),v=n(9480),k=n(6011),j=n(2758),A=n(4607),_=n(6351),C=n(1088);let P=b.Ay.div.withConfig({componentId:"sc-6d487db6-0"})(["margin:64px 0;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;& > span{color:",";font-size:0.875rem;}"],e=>e.theme.colors.textGray),M=(0,b.Ay)(g()).withConfig({componentId:"sc-6d487db6-1"})(["padding:.2em 0;display:flex;align-items:center;position:relative;svg{transform:translateY(-0.05em);}span{position:relative;}span::before{content:'';position:absolute;left:0;bottom:0;width:0;height:2px;border-radius:2px;background:",";transition:width 1s cubic-bezier(0.34,0.04,0.03,1.4),background .3s;}span:hover::before{width:100%;}"],e=>e.theme.colors.accentHover),S=e=>{let t=(0,y.useCallback)(()=>{var t;e.isScrollToTop&&((null==(t=e.scrollRef)?void 0:t.current)?e.scrollRef.current.scrollTo({top:0}):globalThis.scrollTo({top:0}))},[e.isScrollToTop,e.scrollRef]);return(0,r.jsxs)(P,{...e.elemProps,children:[e.prevPage&&(0,r.jsx)("div",{style:{flex:"1 1 auto"},children:(0,r.jsxs)(M,{href:e.prevPage.link,passHref:!0,style:{justifyContent:"flex-start"},onClick:t,children:[(0,r.jsx)(_.A,{size:"1em"}),(0,r.jsx)("span",{style:{margin:"0 0.5em"},children:e.prevPage.title})]})}),(0,r.jsx)("span",{children:e.currTitle?e.currTitle.concat(e.maxPage?" / ".concat(e.maxPage):""):""}),e.nextPage&&(0,r.jsx)("div",{style:{flex:"1 1 auto"},children:(0,r.jsxs)(M,{href:e.nextPage.link,passHref:!0,style:{justifyContent:"flex-end"},onClick:t,children:[(0,r.jsx)("span",{style:{margin:"0 0.5em"},children:e.nextPage.title}),(0,r.jsx)(C.A,{size:"1em"})]})})]})};var z=n(6536),I=n(6005),O=n(2240),T=n(848),H=n(7698);let E=m()(()=>Promise.all([n.e(476),n.e(727),n.e(935),n.e(879),n.e(345)]).then(n.bind(n,5345)),{loadableGenerated:{webpack:()=>[5345]}});var N=!0;function $(e){let{meta:t,mdxcode:n,nextPost:a,prevPost:p,excerpt:m,headings:h}=e,f=(0,x.useRouter)(),[g,b]=(0,y.useState)(!1),[_,C]=(0,y.useState)([]),[P,M]=(0,y.useState)(-1),[T,H]=(0,y.useState)(!1),N=(0,y.useRef)(null);(0,y.useEffect)(()=>{let e=()=>{C(h.map(e=>{let t=document.getElementById(e.id);return t?t.getBoundingClientRect().top+window.scrollY-93:void 0}))};e();let t=new ResizeObserver(()=>e());return N.current&&t.observe(N.current),()=>{t.disconnect()}},[h]);let $=(0,y.useMemo)(()=>(0,O.n)(()=>{let e=globalThis.scrollY;e>300?b(!0):b(!1);let t=e+20;for(let e=0;e<_.length;e++){if(0===e&&t<_[e]){M(-1);break}if(_[e]&&e+1<_.length&&_[e+1]){if(t>=_[e]&&t<_[e+1]){M(e);break}}else if(_[e]&&e+1===_.length&&t>=_[e]){M(e);break}}},50),[_]);(0,I.z)("scroll",$);let V=(0,y.useCallback)((e,t)=>{e.preventDefault(),_[t]&&window.scrollTo({top:_[t],behavior:"smooth"})},[_]),J=(0,y.useMemo)(()=>t.description?t.description.concat(m):m,[m,t.description]),K=(0,y.useMemo)(()=>(0,r.jsx)(r.Fragment,{children:t.tags.map((e,t)=>(0,r.jsxs)(Y,{href:"/tags/".concat(e),passHref:!0,children:[(0,r.jsx)(i.A,{size:"0.875em"}),e]},e))}),[t.tags]),Q=(0,y.useCallback)(e=>{let t="string"==typeof e.tags?[e.tags]:e.tags;return null!==e.keywords&&"string"==typeof e.keywords?t.join().concat(", ").concat(e.keywords.replaceAll("，",", ")):t.join()},[]),ee=(0,y.useMemo)(()=>g&&!T,[g,T]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u(),{children:[(0,r.jsx)("title",{children:t.title}),(0,r.jsx)("meta",{name:"description",content:J}),(0,r.jsx)("meta",{name:"keywords",content:Q(t)}),(0,r.jsx)(w.CommonHead,{})]}),(0,r.jsxs)(k.Ay,{children:[(0,r.jsxs)(R,{children:[(0,r.jsx)(L,{children:t.title}),(0,r.jsx)(X,{children:(0,z.b5)((0,z._U)(t.date))}),(0,r.jsx)(q,{children:(0,r.jsxs)("div",{style:{display:"inline-block",maxWidth:"50%"},children:[(0,r.jsx)("span",{className:"category",children:(0,r.jsxs)(G,{href:"/categories/".concat(t.categories),passHref:!0,children:[(0,r.jsx)(o.A,{size:"1.1em",style:{marginLeft:"0.5em",marginRight:"0.15em",paddingBottom:"0.1em"}}),t.categories]})}),0!==t.tags.length&&(0,r.jsx)("span",{className:"tag",children:K})]})}),(0,r.jsx)(j.X,{ref:N,children:(0,A.B)(n)}),(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{style:{textAlign:"right",opacity:.5,fontSize:"0.875rem",margin:"4rem 0 0 0"},children:["更新于 ",t.date]}),(0,r.jsxs)("div",{style:{textAlign:"right",opacity:.5,fontSize:"0.875rem"},children:[(0,r.jsx)(s,{size:"1.1em",style:{margin:"0 0.2rem",paddingBottom:"0.1em"}}),(0,r.jsx)("span",{className:"waline-pageview-count","data-path":f.basePath})]})]}),(0,r.jsx)(S,{nextPage:a||void 0,prevPage:p||void 0}),(0,r.jsx)(E,{}),(0,r.jsx)(v.A,{className:"toc-btn",Icon:l.A,clickHandler:e=>{e.stopPropagation(),H(e=>!e)},style:g?{bottom:"5.25rem"}:{}}),g&&(0,r.jsx)(v.A,{Icon:c,clickHandler:e=>{e.stopPropagation(),window.scrollTo({top:0})}})]}),(0,r.jsxs)(F,{$isMobileSider:T,$isFixedTop:ee,children:[(0,r.jsxs)(U,{children:["目录",(0,r.jsx)("div",{className:"close-btn",onClick:e=>{e.stopPropagation(),H(e=>!e)},children:(0,r.jsx)(d.A,{size:"1.5em",style:{marginLeft:".5rem"}})})]}),(0,r.jsx)(B,{children:(0,r.jsx)(W,{children:(0,r.jsx)(Z,{children:h.length>0?h.map((e,t)=>(0,r.jsx)(D,{className:P===t?"current":void 0,$rank:e.rank,href:"#".concat(e.id),onClick:e=>{V(e,t)},children:(0,r.jsx)("span",{children:e.title})},e.id)):(0,r.jsx)("span",{style:{opacity:"0.6",fontSize:"0.875rem"},children:"这是一篇没有目录的文章。"})})})})]})]})]})}let R=b.Ay.article.withConfig({componentId:"sc-20ac5e9-0"})(["margin-top:72px;margin:0 auto;padding:60px 20px;width:680px;.toc-btn{display:none;}@media screen and (max-width:1200px){width:calc( 100% - 480px );max-width:680px;}@media screen and (max-width:1000px){width:unset;max-width:680px;.toc-btn{display:unset;}}@media screen and (max-width:580px){width:100%;padding:48px 20px;}"]),U=b.Ay.div.withConfig({componentId:"sc-20ac5e9-1"})(["position:sticky;background-color:",";font-weight:bold;margin-bottom:0.5rem;top:0;padding:1rem 1rem 0.5rem 2rem;z-index:1;font-size:1.25rem;"],e=>e.theme.colors.bg),F=b.Ay.aside.withConfig({componentId:"sc-20ac5e9-2"})(["position:fixed;top:",";animation:"," 0.3s ease;will-change:transform;transition:top 0.3s ease;max-width:18rem;max-height:",";overflow:auto;left:78%;width:288px;.close-btn{display:none;z-index:1;}@media screen and (max-width:1200px){left:76%;width:240px;}@media screen and (max-width:1000px){top:unset;left:unset;bottom:8.5rem;animation:unset;"," max-height:calc(100vh - 128px - 9rem);width:300px;right:7px;transition:opacity .3s ease,transform .3s ease;opacity:",";transform:translateX(",");",";.close-btn{position:sticky;float:right;top:0;display:flex;font-weight:600;justify-content:space-between;align-items:center;"," color:",";font-size:1rem;cursor:pointer;}.close-btn:hover{color:",";}}@media screen and (max-width:580px){right:2%;bottom:0;max-height:60vh;max-width:unset;opacity:unset;width:96%;transition:transform .3s ease;transform:",";}"],e=>e.$isFixedTop?"63px":"128px",T.gy,e=>e.$isFixedTop?"calc(100vh - 63px)":"calc(100vh - 128px)",H.mR,e=>e.$isMobileSider?"1":"0",e=>e.$isMobileSider?"0px":"100%",e=>e.$isMobileSider?null:"pointer-events: none;",e=>e.$isMobileSider?null:"visibility:hidden;",e=>e.theme.colors.textGray2,e=>e.theme.colors.accent,e=>e.$isMobileSider?"translateY(0%)":"translateY(100%)"),B=b.Ay.section.withConfig({componentId:"sc-20ac5e9-3"})(["padding:0 1rem 0 2rem;line-height:1.75rem;@media screen and (max-width:1000px){padding-bottom:1rem;}"]),L=b.Ay.h1.withConfig({componentId:"sc-20ac5e9-4"})(["margin-top:0;margin-bottom:0;text-align:center;"]),X=b.Ay.div.withConfig({componentId:"sc-20ac5e9-5"})(["color:",";font-weight:600;margin-top:1rem;font-size:0.875rem;text-align:center;"],e=>e.theme.colors.textGray2),q=b.Ay.div.withConfig({componentId:"sc-20ac5e9-6"})(["margin-top:1rem;padding-bottom:1.5rem;margin-bottom:1.5rem;font-size:0.875rem;font-weight:600;text-align:center;.category{font-size:0.875rem;line-height:1.5rem;padding-right:0.5rem;}.tag{font-size:0.875rem;line-height:1;}"]),G=(0,b.Ay)(g()).withConfig({componentId:"sc-20ac5e9-7"})(["transition:opacity .3s,color .3s;color:",";&:hover{color:",";}"],e=>e.theme.colors.textPrimary,e=>e.theme.colors.accent),Y=(0,b.Ay)(g()).withConfig({componentId:"sc-20ac5e9-8"})(["transition:background .3s,color .3s;background:",";color:",";display:inline-block;padding:0.3em 0.5em;margin:1px;border-radius:2em;svg{margin-right:3px;}&:hover{background:",";}"],e=>e.theme.colors.tagBg,e=>e.theme.colors.textSecondary,e=>e.theme.colors.accentHover),W=b.Ay.nav.withConfig({componentId:"sc-20ac5e9-9"})(["border-radius:0.75rem;"]),Z=b.Ay.div.withConfig({componentId:"sc-20ac5e9-10"})(["position:relative;"]),D=(0,b.Ay)(g()).withConfig({componentId:"sc-20ac5e9-11"})(["display:block;padding-left:","em;color:",';font-size:0.875rem;line-height:2rem;position:relative;&::before{content:" ";width:3px;height:1rem;top:0.5rem;background-color:',";left:-0.75em;position:absolute;opacity:0;transition:opacity 0.3s ease;}& span{transition:box-shadow .5s;}&:hover span{box-shadow:inset 0 -0.5em 0 ",";}&.current{font-weight:bold;span{box-shadow:inset 0 -0.5em 0 ",";}color:",";&::before{opacity:1;}}@media screen and (max-width:1000px){font-size:1rem;}"],e=>e.$rank-1,e=>e.theme.colors.textSecondary,e=>e.theme.colors.textPrimary,e=>e.theme.colors.accentHover,e=>e.theme.colors.accentHover,e=>e.theme.colors.textPrimary)},8860:(e,t,n)=>{"use strict";var r=n(2402);Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return g},defaultHead:function(){return m}});let i=n(1532),o=n(8781),a=n(5640),s=o._(n(148)),l=i._(n(7009)),c=n(1e3),d=n(5874),p=n(4752);function m(e){void 0===e&&(e=!1);let t=[(0,a.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}n(6706);let u=["name","httpEquiv","charSet","itemProp"];function f(e,t){let{inAmpMode:n}=t;return e.reduce(h,[]).reverse().concat(m(n).reverse()).filter(function(){let e=new Set,t=new Set,n=new Set,r={};return i=>{let o=!0,a=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){a=!0;let t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?o=!1:t.add(i.type);break;case"meta":for(let e=0,t=u.length;e<t;e++){let t=u[e];if(i.props.hasOwnProperty(t))if("charSet"===t)n.has(t)?o=!1:n.add(t);else{let e=i.props[t],n=r[t]||new Set;("name"!==t||!a)&&n.has(e)?o=!1:(n.add(e),r[t]=n)}}}return o}}()).reverse().map((e,t)=>{let i=e.key||t;if(r.env.__NEXT_OPTIMIZE_FONTS&&!n&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,s.default.cloneElement(e,t)}return s.default.cloneElement(e,{key:i})})}let g=function(e){let{children:t}=e,n=(0,s.useContext)(c.AmpStateContext),r=(0,s.useContext)(d.HeadManagerContext);return(0,a.jsx)(l.default,{reduceComponentsToState:f,headManager:r,inAmpMode:(0,p.isInAmpMode)(n),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9682:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(1938).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[59,11,267,636,593,792],()=>t(6392)),_N_E=e.O()}]);