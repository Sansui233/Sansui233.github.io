import{p as e,w as p,q as u,O as x,x as g,a as n}from"./chunk-JMJ3UQ3L-BVFOw7ai.js";import{s as m}from"./i18nInstance-DPKwMV5N.js";import{u as f}from"./throttle-DwQFwEus.js";import{G as h,M as j,R as b,T as v}from"./index-CMwV3QjS.js";import"./use-appstate-wXf1X0hJ.js";import"./i18n-C8hHMX00.js";const N=({className:o,...a})=>{const{t}=f(),s="inline-block mx-2 hover:text-accent-hover transition-colors duration-200",i="w-6 h-6";return e.jsxs("footer",{className:`pt-6 pb-2.5 text-center text-[10px] text-text-secondary ${o||""}`,...a,children:[e.jsxs("nav",{children:[e.jsx("a",{href:m.social.github,className:s,target:"_blank",rel:"noopener noreferrer","aria-label":"Github",children:e.jsx(h,{className:i})}),e.jsx("a",{href:`mailto:${m.social.email}`,className:s,"aria-label":"Email",children:e.jsx(j,{className:i})}),e.jsx("a",{href:"/rss",className:s,"aria-label":"RSS",children:e.jsx(b,{className:i})})]}),e.jsxs("div",{className:"my-6 mx-auto tracking-[0.2px]",children:[t("ui.copyright",{author:m.author,year:new Date().getFullYear()})," ",e.jsx("br",{})," ",t("ui.allRightsReserved")]})]})},d="initial-progress";function y(){return e.jsx("div",{id:d,style:{position:"fixed",top:0,left:0,height:"2px",width:"0",background:"var(--accent)",zIndex:9999,animation:"progressLoading 3s ease-out forwards"}})}function R(){const o=g(),a=u(),[t,s]=n.useState("idle"),i=n.useRef(""),l=`${a.pathname}${a.search}`;return n.useEffect(()=>{const r=document.getElementById(d);if(r){r.style.animation="progressComplete 0.3s ease-out forwards";const c=setTimeout(()=>{r.remove()},300);return()=>clearTimeout(c)}},[]),n.useEffect(()=>{if(o.state==="loading")t==="loading"&&l!==i.current?(s("idle"),requestAnimationFrame(()=>{s("loading")})):t!=="loading"&&s("loading"),i.current=l;else if(o.state==="idle"&&t==="loading"){s("complete");const c=setTimeout(()=>{s("idle")},300);return()=>clearTimeout(c)}},[o.state,l,t]),t==="idle"?null:e.jsx("div",{className:`bg-accent fixed top-0 left-0 z-50 h-0.5 ${t==="loading"?"animate-progress-loading":"animate-progress-complete"}`})}const k=p(function(){const a=u(),t=a.pathname==="/memos"||a.pathname.startsWith("/memos");return e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx(R,{}),e.jsx(v,{hideSearch:t,placeHolder:!t,className:t?"border-ui-line-gray-2 border-b":void 0}),e.jsx(x,{}),!t&&e.jsx(N,{})]})});export{k as default};
