import{s as f}from"./site.config-B03RtX8f.js";import{i as u}from"./layout-Ig7IE2Rm.js";function c(){const t=f.timeZone,n=new Date("2020-01-01T12:00:00Z"),r=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"numeric",hour12:!1});return(parseInt(r.format(n),10)-12)*60}function m(t){if(t instanceof Date)return t;if(/Z|[+-]\d{2}:\d{2}$/.test(t)){const o=new Date(t);if(o.toString()!=="Invalid Date")return o}const r=t.replace(" ","T"),e=new Date(r);if(e.toString()!=="Invalid Date"){const o=e.getTimezoneOffset(),s=c();return new Date(e.getTime()-s*60*1e3-o*60*1e3)}const i=t.slice(0,10)+"T23:59:59",a=new Date(i);if(a.toString()!=="Invalid Date"){const o=a.getTimezoneOffset(),s=c();return new Date(a.getTime()-s*60*1e3-o*60*1e3)}return console.error(`[date.ts] error: unable to parse date string "${t}"
	set date to -1`),new Date(-1)}function l(t){const r=new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t),e=Object.fromEntries(r.map(a=>[a.type,a.value])),i=e.hour==="24"?"00":e.hour;return`${e.year}-${e.month}-${e.day} ${i}:${e.minute}`}function T(t,n="dateNatural"){const r=u.t,e=u.resolvedLanguage;function i(a){const o=["th","st","nd","rd"],s=a%100;return o[(s-20)%10]||o[s]||o[0]}return n!=="dateNatural"||e!=="en"?r(`ui.${n}`,{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes()}):r(`ui.${n}`,{year:t.getFullYear(),month:new Intl.DateTimeFormat("en-US",{month:"short"}).format(t),day:t.getDate(),daySuffix:i(t.getDate()),hour:t.getHours(),minute:t.getMinutes()})}function g(t){const n=u.t,e=new Date().getTime()-t.getTime(),i=Math.floor(e/6e4),a=Math.floor(e/36e5),o=Math.floor(e/864e5);return i<1?n("ui.timeJustNow"):i<60?n("ui.timeMinutesAgo",{count:i}):a<24?n("ui.timeHoursAgo",{count:a}):o<7?n("ui.timeDaysAgo",{count:o}):l(t)}function p(t){const n=m(t);return n.getTime()===-1?{date:null,display:t}:{date:n,display:g(n)}}export{p as a,T as d,m as p};
