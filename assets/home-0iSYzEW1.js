import{p as e,y as f,a as i,w as h}from"./chunk-JMJ3UQ3L-BVFOw7ai.js";import{s as v}from"./i18nInstance-DPKwMV5N.js";import{O as g}from"./layout-CHyx7D3z.js";import{u as b,p as j}from"./use-date-i18n-CH95KIPY.js";import{F as y}from"./folder-Dg4Z__4I.js";import{u as N,t as w}from"./throttle-DwQFwEus.js";import"./index-CEQRVl7u.js";import"./use-appstate-wXf1X0hJ.js";import"./i18n-C8hHMX00.js";function E({post:r,index:l}){const{dateI18n:o}=b();return e.jsx(f,{to:`/posts/${r.slug}`,className:"article-card group block min-h-24 cursor-pointer relative max-md:min-h-21",children:e.jsxs("div",{className:"py-4 pb-10 relative",children:[e.jsxs("div",{className:"my-2 text-text-gray-2",children:[e.jsx("span",{className:"font-medium text-sm",children:o(j(r.date),"dateNatural")}),e.jsx(y,{size:"1em",className:"inline ml-2 mr-1 mb-0.5"}),e.jsx("span",{className:"font-medium text-sm inline-block",children:r.categories})]}),e.jsxs("div",{className:"post-container",children:[e.jsx("span",{className:"title text-xl font-semibold max-md:text-xl",children:r.title}),e.jsx("div",{className:"my-2 text-text-secondary",children:r.description})]})]})})}function L({items:r,current:l,setCurrent:o}){const t=i.useRef(null),[a,c]=i.useState(!1),{t:d}=N();return i.useEffect(()=>{const s=()=>c(!0),n=()=>c(!1);t.current&&(t.current.addEventListener("mouseenter",s),t.current.addEventListener("mouseleave",n));const m=w(function(p){t.current&&a&&(p.preventDefault(),t.current.scrollLeft+=p.deltaY)},20);window.addEventListener("wheel",m,{passive:!1});const u=t.current;return()=>{window.removeEventListener("wheel",m),u&&(u.removeEventListener("mouseenter",s),u.removeEventListener("mouseleave",n))}}),e.jsx("nav",{ref:t,className:"bg-bg sticky -top-px z-1 mt-4 flex overflow-x-auto py-4 [&::-webkit-scrollbar]:hidden",children:r.map((s,n)=>{const x=l===n,m=s[0]==="All Posts"?d("ui.allPosts"):s[0];return e.jsx("button",{onClick:()=>o(n),className:`mr-4 cursor-pointer rounded-full border px-2.5 py-1.5 text-sm whitespace-nowrap transition-all duration-500 ${x?"border-bg-inverse bg-bg-inverse text-bg":"border-ui-line-gray-2 text-text-gray hover:bg-hover-bg"} `,children:e.jsxs("span",{children:[m," ",s[1]]})},n)})})}function z({}){return[{title:`${v.author} - Blog`},{name:"description",content:"A personal blog about work and life"}]}const F=h(function({loaderData:l}){const{posts:o,categories:t}=l,[a,c]=i.useState(0),d=i.useMemo(()=>a===0?o:o.filter(s=>s.categories===t[a][0]),[a,o,t]);return e.jsxs(g,{children:[e.jsx(L,{items:t,current:a,setCurrent:c}),e.jsx("section",{className:"animate-bottom-fade-in grid grid-cols-2 justify-center gap-x-16 max-md:grid-cols-1",children:d.map((s,n)=>e.jsx(E,{post:s,index:n},s.slug))})]})});export{F as default,z as meta};
