import{p as e,x as f,a as i,w as p}from"./chunk-JMJ3UQ3L-CM_uFqsX.js";import{s as h}from"./i18n-BwHOs0Xu.js";import{t as v,L as g,O as b}from"./layout-CLfdQHSC.js";import{u as j,p as y}from"./use-date-i18n-CuzGRjds.js";import{F as N}from"./folder-fKM_bqRn.js";function w({post:r,index:l}){const{dateI18n:n}=j();return e.jsx(f,{to:`/posts/${r.slug}`,className:"article-card group block min-h-24 cursor-pointer relative max-md:min-h-21",children:e.jsxs("div",{className:"py-4 pb-10 relative",children:[e.jsxs("div",{className:"my-2 text-text-gray-2",children:[e.jsx("span",{className:"font-medium text-sm",children:n(y(r.date),"dateNatural")}),e.jsx(N,{size:"1em",className:"inline ml-2 mr-1 mb-0.5"}),e.jsx("span",{className:"font-medium text-sm inline-block",children:r.categories})]}),e.jsxs("div",{className:"post-container",children:[e.jsx("span",{className:"title text-xl font-semibold max-md:text-xl",children:r.title}),e.jsx("div",{className:"my-2 text-text-secondary",children:r.description})]})]})})}function L({items:r,current:l,setCurrent:n}){const t=i.useRef(null),[o,c]=i.useState(!1);return i.useEffect(()=>{const a=()=>c(!0),s=()=>c(!1);t.current&&(t.current.addEventListener("mouseenter",a),t.current.addEventListener("mouseleave",s));const u=v(function(x){t.current&&o&&(x.preventDefault(),t.current.scrollLeft+=x.deltaY)},20);window.addEventListener("wheel",u,{passive:!1});const m=t.current;return()=>{window.removeEventListener("wheel",u),m&&(m.removeEventListener("mouseenter",a),m.removeEventListener("mouseleave",s))}}),e.jsx("nav",{ref:t,className:"bg-bg sticky -top-px z-1 mt-4 flex overflow-x-auto py-4 [&::-webkit-scrollbar]:hidden",children:r.map((a,s)=>{const d=l===s;return e.jsx("button",{onClick:()=>n(s),className:`mr-4 cursor-pointer rounded-md border px-2.5 py-1.5 text-sm whitespace-nowrap transition-all duration-500 ${d?"border-bg-inverse bg-bg-inverse text-bg":"border-ui-line-gray-2 text-text-gray hover:bg-hover-bg"} `,children:e.jsxs("span",{children:[a[0]," ",a[1]]})},s)})})}function D({}){return[{title:`${h.author} - Blog`},{name:"description",content:"A personal blog about work and life"}]}const W=p(function({loaderData:l}){const{posts:n,categories:t}=l,[o,c]=i.useState(0),a=i.useMemo(()=>o===0?n:n.filter(s=>s.categories===t[o][0]),[o,n,t]);return e.jsx(g,{children:e.jsxs(b,{children:[e.jsx(L,{items:t,current:o,setCurrent:c}),e.jsx("section",{className:"animate-bottom-fade-in grid grid-cols-2 justify-center gap-x-16 max-md:grid-cols-1",children:a.map((s,d)=>e.jsx(w,{post:s,index:d},s.slug))})]})})});export{W as default,D as meta};
