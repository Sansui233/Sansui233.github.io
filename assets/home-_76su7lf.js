import{p as e,y as p,a as i,w as f}from"./chunk-JMJ3UQ3L-BVFOw7ai.js";import{s as h}from"./i18nInstance-DPKwMV5N.js";import{O as v}from"./layout-CHyx7D3z.js";import{u as g,p as b}from"./use-date-i18n-CH95KIPY.js";import{F as j}from"./folder-Dg4Z__4I.js";import{t as y}from"./throttle-DwQFwEus.js";import"./index-CEQRVl7u.js";import"./use-appstate-wXf1X0hJ.js";import"./i18n-C8hHMX00.js";function N({post:s,index:l}){const{dateI18n:n}=g();return e.jsx(p,{to:`/posts/${s.slug}`,className:"article-card group block min-h-24 cursor-pointer relative max-md:min-h-21",children:e.jsxs("div",{className:"py-4 pb-10 relative",children:[e.jsxs("div",{className:"my-2 text-text-gray-2",children:[e.jsx("span",{className:"font-medium text-sm",children:n(b(s.date),"dateNatural")}),e.jsx(j,{size:"1em",className:"inline ml-2 mr-1 mb-0.5"}),e.jsx("span",{className:"font-medium text-sm inline-block",children:s.categories})]}),e.jsxs("div",{className:"post-container",children:[e.jsx("span",{className:"title text-xl font-semibold max-md:text-xl",children:s.title}),e.jsx("div",{className:"my-2 text-text-secondary",children:s.description})]})]})})}function w({items:s,current:l,setCurrent:n}){const t=i.useRef(null),[a,c]=i.useState(!1);return i.useEffect(()=>{const o=()=>c(!0),r=()=>c(!1);t.current&&(t.current.addEventListener("mouseenter",o),t.current.addEventListener("mouseleave",r));const u=y(function(x){t.current&&a&&(x.preventDefault(),t.current.scrollLeft+=x.deltaY)},20);window.addEventListener("wheel",u,{passive:!1});const d=t.current;return()=>{window.removeEventListener("wheel",u),d&&(d.removeEventListener("mouseenter",o),d.removeEventListener("mouseleave",r))}}),e.jsx("nav",{ref:t,className:"bg-bg sticky -top-px z-1 mt-4 flex overflow-x-auto py-4 [&::-webkit-scrollbar]:hidden",children:s.map((o,r)=>{const m=l===r;return e.jsx("button",{onClick:()=>n(r),className:`mr-4 cursor-pointer rounded-md border px-2.5 py-1.5 text-sm whitespace-nowrap transition-all duration-500 ${m?"border-bg-inverse bg-bg-inverse text-bg":"border-ui-line-gray-2 text-text-gray hover:bg-hover-bg"} `,children:e.jsxs("span",{children:[o[0]," ",o[1]]})},r)})})}function z({}){return[{title:`${h.author} - Blog`},{name:"description",content:"A personal blog about work and life"}]}const A=f(function({loaderData:l}){const{posts:n,categories:t}=l,[a,c]=i.useState(0),o=i.useMemo(()=>a===0?n:n.filter(r=>r.categories===t[a][0]),[a,n,t]);return e.jsxs(v,{children:[e.jsx(w,{items:t,current:a,setCurrent:c}),e.jsx("section",{className:"animate-bottom-fade-in grid grid-cols-2 justify-center gap-x-16 max-md:grid-cols-1",children:o.map((r,m)=>e.jsx(N,{post:r,index:m},r.slug))})]})});export{A as default,z as meta};
