import{a as f}from"./chunk-JMJ3UQ3L-CM_uFqsX.js";import{s as D}from"./i18n-BwHOs0Xu.js";import{b as h}from"./layout-CLfdQHSC.js";function d(){const e=D.timeZone,u=new Date("2020-01-01T12:00:00Z"),s=new Intl.DateTimeFormat("en-US",{timeZone:e,hour:"numeric",hour12:!1});return(parseInt(s.format(u),10)-12)*60}function I(e){if(e instanceof Date)return e;if(/Z|[+-]\d{2}:\d{2}$/.test(e)){const i=new Date(e);if(i.toString()!=="Invalid Date")return i}const s=e.replace(" ","T"),n=new Date(s);if(n.toString()!=="Invalid Date"){const i=n.getTimezoneOffset(),t=d();return new Date(n.getTime()-t*60*1e3-i*60*1e3)}const c=e.slice(0,10)+"T23:59:59",a=new Date(c);if(a.toString()!=="Invalid Date"){const i=a.getTimezoneOffset(),t=d();return new Date(a.getTime()-t*60*1e3-i*60*1e3)}return console.error(`[date.ts] error: unable to parse date string "${e}"
	set date to -1`),new Date(-1)}function T(e){const s=new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e),n=Object.fromEntries(s.map(a=>[a.type,a.value])),c=n.hour==="24"?"00":n.hour;return`${n.year}-${n.month}-${n.day} ${c}:${n.minute}`}function M(){const{t:e,i18n:u}=h(),s=u.resolvedLanguage,n=f.useCallback(t=>{const o=["th","st","nd","rd"],r=t%100;return o[(r-20)%10]||o[r]||o[0]},[]),c=f.useCallback((t,o="dateNatural")=>o!=="dateNatural"||s!=="en"?e(`ui.${o}`,{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes()}):e(`ui.${o}`,{year:t.getFullYear(),month:new Intl.DateTimeFormat("en-US",{month:"short"}).format(t),day:t.getDate(),daySuffix:n(t.getDate()),hour:t.getHours(),minute:t.getMinutes()}),[e,s,n]),a=f.useCallback(t=>{const r=new Date().getTime()-t.getTime(),l=Math.floor(r/6e4),m=Math.floor(r/36e5),g=Math.floor(r/864e5);return l<1?e("ui.timeJustNow"):l<60?e("ui.timeMinutesAgo",{count:l}):m<24?e("ui.timeHoursAgo",{count:m}):g<7?e("ui.timeDaysAgo",{count:g}):T(t)},[e]),i=f.useCallback((t,o)=>{const r=o(t);return r.getTime()===-1?t:a(r)},[a]);return{dateI18n:c,dateRelative:a,parseMemoIdDisplay:i}}export{I as p,M as u};
