<!DOCTYPE html><html lang="zh"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-EDE15EB3W8"></script><title>踩了一圈 CSS 构建方案的坑</title><meta name="description" content="前端代码中质量最薄弱的一环"/><meta name="keywords" content="CSS, SCSS, Bootstrap, tailwind, styled-components, Linaria, CSS, 学习"/><meta name="author" content="Sansui"/><meta property="og:title" content="踩了一圈 CSS 构建方案的坑"/><meta property="og:description" content="前端代码中质量最薄弱的一环"/><meta property="og:type" content="article"/><meta property="og:url" content="https://sansui233.com/posts/2025-07-12-compare-css-solutions"/><meta property="article:published_time" content="2025-07-12T04:49:09.000Z"/><meta property="article:author" content="Sansui"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="踩了一圈 CSS 构建方案的坑"/><meta name="twitter:description" content="前端代码中质量最薄弱的一环"/><link rel="modulepreload" href="/assets/manifest-8eb4c20f.js"/><link rel="modulepreload" href="/assets/entry.client-DkTTQJrl.js"/><link rel="modulepreload" href="/assets/chunk-JMJ3UQ3L-BVFOw7ai.js"/><link rel="modulepreload" href="/assets/index-HqdIF0eP.js"/><link rel="modulepreload" href="/assets/root-BR3ANwdi.js"/><link rel="modulepreload" href="/assets/i18nInstance-DPKwMV5N.js"/><link rel="modulepreload" href="/assets/i18n-C8hHMX00.js"/><link rel="modulepreload" href="/assets/RootLayout-CHttVE2X.js"/><link rel="modulepreload" href="/assets/throttle-DwQFwEus.js"/><link rel="modulepreload" href="/assets/index-CEQRVl7u.js"/><link rel="modulepreload" href="/assets/use-appstate-wXf1X0hJ.js"/><link rel="modulepreload" href="/assets/posts._slug-DRWishpF.js"/><link rel="modulepreload" href="/assets/MDXComponent-BzBGnsZ7.js"/><link rel="modulepreload" href="/assets/use-date-i18n-CH95KIPY.js"/><link rel="modulepreload" href="/assets/folder-Dg4Z__4I.js"/><script>
              (function() {
                var theme = localStorage.getItem("theme");
                if (theme === "system" || !theme) {
                  theme = window.matchMedia("(prefers-color-scheme: dark)").matches
                    ? "dark" : "light";
                }
                console.debug("theme", theme);
                document.documentElement.classList.add(theme);
              })();
            </script><link rel="stylesheet" href="/assets/root-CwPMOqH0.css"/><link rel="stylesheet" href="/assets/posts-CMWrxi_F.css"/><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-EDE15EB3W8', {
                page_path: window.location.pathname,
              });
            </script></head><body><div id="initial-progress" style="position:fixed;top:0;left:0;height:2px;width:0;background:var(--accent);z-index:9999;animation:progressLoading 3s ease-out forwards"></div><!--$?--><template id="B:0"></template><!--/$--><section class="bg-bg/90 fixed inset-0 z-8 h-full w-full overflow-auto backdrop-blur-[6px] transition-all duration-500 ease-[cubic-bezier(0.46,0,0.08,1.11)] pointer-events-none opacity-0 "><div class="relative mx-auto pt-32 pb-23 text-center font-bold"><h1 class="
    transition-all duration-1000 ease-out transform
    delay-0
    opacity-0 -translate-y-8
  "><span class="relative inline-block">SANSUI的博客<span class="bg-accent-hover absolute bottom-0 left-0 -z-10 h-[0.5em] w-full rounded-[0.5em] mix-blend-overlay"></span></span></h1><div class="mt-8 
    transition-all duration-1000 ease-out transform
    delay-100
    opacity-0 -translate-y-8
  "><span class="hover:text-accent-hover relative inline-block cursor-pointer text-[1.625rem] leading-11 transition-transform duration-300 ease-out hover:scale-110">系统外观</span></div><div class="mt-4 
    transition-all duration-1000 ease-out transform
    delay-200
    opacity-0 -translate-y-8
  "><span class="hover:text-accent-hover relative inline-block cursor-pointer text-[1.625rem] leading-11 transition-transform duration-300 ease-out hover:scale-110"><a href="/categories" data-discover="true">分类标签</a></span></div><div class="mt-4 
    transition-all duration-1000 ease-out transform
    delay-300
    opacity-0 -translate-y-8
  "><span class="hover:text-accent-hover relative inline-block cursor-pointer text-[1.625rem] leading-11 transition-transform duration-300 ease-out hover:scale-110"><a href="/atom.xml">RSS</a></span></div><div class="pt-12 text-[10px] font-normal 
    transition-all duration-1000 ease-out transform
    delay-400
    opacity-0 -translate-y-8
  "><div class="my-4 flex items-center justify-center"><a href="https://github.com/sansui233" class="text-text-primary hover:text-accent-hover mx-1 transition-colors [&amp;&gt;svg]:h-6 [&amp;&gt;svg]:w-6" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="mailto:sansuilnm@gmail.com" class="text-text-primary hover:text-accent-hover mx-1 transition-colors [&amp;&gt;svg]:h-6 [&amp;&gt;svg]:w-6" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail" aria-hidden="true"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"></path><rect x="2" y="4" width="20" height="16" rx="2"></rect></svg></a><a href="/rss" class="text-text-primary hover:text-accent-hover mx-1 transition-colors [&amp;&gt;svg]:h-6 [&amp;&gt;svg]:w-6" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss" aria-hidden="true"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div><div class="mx-auto my-4 leading-relaxed">© Sansui 2026<br/>All rights reserved</div></div></div><div class="fixed top-5.5 right-5 z-5 h-5 w-6"><div class="flex flex-col justify-between cursor-pointer " style="width:1rem;height:1rem" aria-expanded="true" aria-label="Toggle menu"><div class="h-[2px] w-full rounded-sm bg-text-primary transition-all duration-300 ease-in-out opacity-0"></div><div class="relative h-0.5 w-full"><div class="absolute top-0 left-0 h-[2px] w-full rounded-sm bg-text-primary transition-all duration-300 ease-in-out rotate-45"></div><div class="absolute top-0 left-0 h-[2px] w-full rounded-sm bg-text-primary transition-all duration-300 ease-in-out -rotate-45"></div></div><div class="h-[2px] w-full rounded-sm bg-text-primary transition-all duration-300 ease-in-out opacity-0"></div></div></div></section><header class="bg-bg/60 fixed z-10 box-content flex h-15.75 w-full items-center justify-between backdrop-blur-[6px] transition-transform duration-500 ease-out translate-y-0 "><div class="w-52.5 flex-auto items-center justify-start font-semibold max-md:w-25"><a class="flex items-center px-4" href="/" data-discover="true"><svg fill="currentColor" id="flat-neko" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72" width="36" class="shrink-0"><path d="m68.24,44.97c.54-.13.86-.68.73-1.21m0,0c-.13-.54-.68-.86-1.21-.73l-4.61,1.15c1.06-5.18.9-11.77-1.14-20.18,0-7-1.45-14.23-3.24-14.91-1.99-.75-11.76,5.91-12.76,8.91-7-2-13-2-20,0-1-3-10.77-9.66-12.76-8.91-1.79.67-3.24,7.91-3.24,14.91-2.05,8.41-2.2,15-1.14,20.18l-4.61-1.15c-.54-.13-1.08.19-1.21.73-.13.54.19,1.08.73,1.21l5.64,1.41c.33,1.14.72,2.21,1.18,3.2l-4.67.42c-.55.05-.96.54-.91,1.09.05.52.48.91,1,.91.03,0,.06,0,.09,0l5.49-.5c.44.75.92,1.46,1.42,2.11l-4.32,1.44c-.52.17-.81.74-.63,1.26.14.42.53.68.95.68.1,0,.21-.02.32-.05l5.08-1.69c6.8,7.11,17.32,7.75,21.6,7.75s14.8-.63,21.6-7.75l5.08,1.69c.11.04.21.05.32.05.42,0,.81-.26.95-.68.17-.52-.11-1.09-.63-1.26l-4.32-1.44c.51-.66.98-1.36,1.42-2.11l5.49.5s.06,0,.09,0c.51,0,.95-.39,1-.91.05-.55-.36-1.04-.91-1.09l-4.67-.42c.45-.99.84-2.06,1.18-3.2l5.64-1.41m-47.24,1.03c-5-1-7-5-6-10,.81-4.04,4.59-7.63,9-7,4.39.63,6.81,4.04,6.64,8.74-.18,4.98-4.64,9.26-9.64,8.26Zm21.45,1.28c-.64.32-1.36.48-2.09.48-.67,0-1.36-.14-2.01-.41-.94-.39-1.74-1.01-2.35-1.83-.61.81-1.41,1.44-2.35,1.83-1.37.57-2.87.54-4.1-.07-.49-.25-.69-.85-.45-1.34.25-.49.85-.69,1.34-.45.7.35,1.61.36,2.44.02,1.01-.42,1.78-1.28,2.16-2.44.03-.09.08-.17.13-.25-.7-.31-1.18-1.01-1.18-1.82,0-1.1.9-2,2-2s2,.9,2,2c0,.81-.49,1.51-1.18,1.82.05.08.1.16.13.25.38,1.15,1.15,2.02,2.16,2.44.83.34,1.74.34,2.44-.02.49-.25,1.09-.05,1.34.45s.05,1.09-.45,1.34Zm8.55-1.28c-5,1-9.46-3.28-9.64-8.26-.17-4.71,2.25-8.11,6.64-8.74,4.41-.63,8.19,2.96,9,7,1,5-1,9-6,10Z"></path><path d="m26,33c-.55,0-1-.45-1-1,0-.45.3-.81.7-.94-.16-.09-.32-.19-.5-.25-2.2-.81-5.2.19-6.82,3.53-1.6,3.29-1.17,7.39,2.48,8.79,3.31,1.27,7.01-.77,7.53-4.63.35-2.62-.16-4.96-1.41-6.41-.04.51-.46.92-.98.92Z"></path><path d="m53.62,34.34c-.45-.93-1.02-1.66-1.64-2.24-.05.51-.46.9-.98.9-.55,0-1-.45-1-1,0-.4.24-.74.57-.9-1.27-.63-2.63-.72-3.78-.3-2.52.92-3.68,4.05-3.19,7.69.52,3.85,4.23,5.9,7.53,4.63,3.64-1.4,4.07-5.49,2.48-8.79Z"></path></svg><span class="px-2 max-md:hidden">Sansui的博客</span></a></div><nav class="relative flex max-w-[50%] flex-[2_1_auto] items-center justify-evenly tracking-wide max-[580px]:hidden min-[580px]:max-w-97.5"><div class="bg-accent-hover pointer-events-none absolute top-[1.1em] -z-10 h-[0.4em] w-[0.4em] rounded-full" style="opacity:0"></div><div class="bg-accent-hover pointer-events-none absolute top-[1.1em] -z-10 h-[0.4em] rounded-[0.5em] " style="opacity:0"></div><div class="px-2 pt-0.5 font-semibold"><a class="hover:text-accent relative transition-colors duration-300 text-text-primary" href="/" data-discover="true">文章</a></div><div class="px-2 pt-0.5 font-semibold"><a class="hover:text-accent relative transition-colors duration-300 " href="/memos" data-discover="true">说说</a></div><div class="px-2 pt-0.5 font-semibold"><a class="hover:text-accent relative transition-colors duration-300 " href="/about" data-discover="true">关于</a></div></nav><div class="flex w-52.5 flex-auto items-center justify-end max-md:w-25 [&amp;&gt;div]:mr-4"><div class="relative min-w-14.25 text-xl font-semibold min-[580px]:hidden"><div class="absolute -top-2 left-0 w-full pt-10 transition-all duration-300 invisible border-transparent "><a class="text-text-secondary my-2 block px-1 pb-1 pl-2.75 transition-all duration-500 pointer-events-none opacity-0 blur-md " href="/memos" data-discover="true">说说</a><a class="text-text-secondary my-2 block px-1 pb-1 pl-2.75 transition-all duration-500 pointer-events-none opacity-0 blur-md " href="/about" data-discover="true">关于</a></div><button class="text-text-primary relative flex items-center px-3">文章<svg xmlns="http://www.w3.org/2000/svg" width="1.25em" height="1.25em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down -mr-2" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button></div><div class="cursor-pointer transition-colors duration-300   hover:text-accent-hover"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search" aria-hidden="true"><path d="m21 21-4.34-4.34"></path><circle cx="11" cy="11" r="8"></circle></svg></div><div class="mr-5 w-5.5"><div class="flex flex-col justify-between cursor-pointer " style="width:100%;height:1.15rem" aria-expanded="false" aria-label="Toggle menu"><div class="h-[2px] w-full rounded-sm bg-text-primary transition-all duration-300 ease-in-out opacity-100"></div><div class="relative h-0.5 w-full"><div class="absolute top-0 left-0 h-[2px] w-full rounded-sm bg-text-primary transition-all duration-300 ease-in-out rotate-0"></div><div class="absolute top-0 left-0 h-[2px] w-full rounded-sm bg-text-primary transition-all duration-300 ease-in-out rotate-0"></div></div><div class="h-[2px] w-full rounded-sm bg-text-primary transition-all duration-300 ease-in-out opacity-100"></div></div></div></div></header><div class="text-accent h-15.75 w-full pt-2.5 text-center font-serif text-[10px] italic opacity-60">人活着就是为了卡卡西</div><div class="mx-auto w-170 px-5 py-15 max-xl:w-[calc(100%-480px)] max-xl:max-w-170 max-lg:w-auto max-lg:max-w-170 max-sm:w-full max-sm:py-12"><article><h1 class="mt-0 mb-0 text-center">踩了一圈 CSS 构建方案的坑</h1><div class="mt-4 text-center text-sm font-semibold text-[#989898]">2025年7月12日</div><div class="mt-4 mb-6 pb-6 text-center text-sm font-semibold"><div class="inline-block max-w-1/2"><span class="pr-2 text-sm leading-6"><a class="text-text-primary hover:text-accent transition-colors" href="/categories/学习" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="1.1em" height="1.1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder mr-0.5 ml-2 inline pb-0.5" aria-hidden="true"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"></path></svg>学习</a></span><span class="text-sm leading-none"><a class="bg-tag-bg text-text-secondary hover:bg-accent-hover m-px inline-block rounded-full px-2 py-1 transition-colors" href="/tags/CSS" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="0.875em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag mr-0.5 inline" aria-hidden="true"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>CSS</a></span></div></div><section><div class="text-right text-sm opacity-50"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye mr-1 mb-0.5" aria-hidden="true"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path><circle cx="12" cy="12" r="3"></circle></svg><span class="waline-pageview-count mr-1" data-path="/posts/2025-07-12-compare-css-solutions"></span>阅读<span class="hover:text-accent cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square mr-1 mb-0.5 ml-4" aria-hidden="true"><path d="M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"></path></svg><span class="waline-comment-count mr-1" data-path="/posts/2025-07-12-compare-css-solutions"></span>评论</span></div></section><div class="markdown-wrapper"></div><section><div class="mt-16 text-right text-sm opacity-50">更新于 <!-- -->2025-07-12</div></section><div class="my-16 flex flex-wrap items-center justify-between"><div class="flex-[1_1_auto]"><a class="group inline-flex items-center justify-start py-1" href="/posts/2025-07-24-embed-python-with-uv" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left" aria-hidden="true"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg><span class="relative mx-2">uv 管理 conda 项目依赖<span class="bg-accent-hover absolute bottom-0 left-0 h-0.5 w-0 rounded transition-[width] duration-1000 ease-[cubic-bezier(0.34,0.04,0.03,1.4)] group-hover:w-full"></span></span></a></div><div class="flex-[1_1_auto]"><a class="group inline-flex w-full items-center justify-end py-1" href="/posts/2025-04-22-techs-about-steam-crack" data-discover="true"><span class="relative mx-2">Steam 假入库是怎么做的<span class="bg-accent-hover absolute bottom-0 left-0 h-0.5 w-0 rounded transition-[width] duration-1000 ease-[cubic-bezier(0.34,0.04,0.03,1.4)] group-hover:w-full"></span></span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right" aria-hidden="true"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></a></div></div></article><!--$--><div id="waline">Waline</div><!--/$--></div><aside class="/* Desktop positioning */ fixed left-[78%] z-5 w-72 max-w-72 overflow-auto transition-[top] duration-300 xl:animate-[fadeInRight_0.3s_ease] top-32 max-h-[calc(100vh-8rem)] /* Tablet: narrower */ /* Mobile: drawer from bottom/right */ max-lg:bg-bg max-lg:shadow-float-menu max-lg:border-ui-line-gray-3 max-xl:left-[76%] max-xl:w-60 max-lg:top-auto max-lg:right-2 max-lg:bottom-34 max-lg:left-auto max-lg:max-h-[calc(100vh-8rem-9rem)] max-lg:w-75 max-lg:rounded-lg max-lg:border max-lg:transition-all max-lg:duration-300 max-lg:pointer-events-none max-lg:translate-x-full max-lg:opacity-0 /* Small mobile: full width drawer from bottom */ max-sm:right-[2%] max-sm:bottom-0 max-sm:max-h-[60vh] max-sm:w-[96%] max-sm:max-w-none max-sm:translate-x-0 max-sm:translate-y-full "><div class="max-lg:bg-bg sticky top-0 z-9 mb-2 pt-4 pr-4 pb-2 pl-8 text-xl font-bold max-lg:pr-4 max-lg:pl-8">目录<button class="text-text-gray-2 hover:text-accent float-right hidden cursor-pointer text-[1rem] max-lg:block invisible "><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x" aria-hidden="true"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button></div><nav class="pr-4 pb-4 pl-8 max-lg:px-6 max-lg:pr-4 max-lg:pl-8"><div class="relative"><a href="#css类复用粒度" style="padding-left:0em" class="toc-link "><span class="transition-shadow duration-500">CSS类复用粒度</span></a><a href="#组件类" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">组件类</span></a><a href="#功能类" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">功能类</span></a><a href="#原子类" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">原子类</span></a><a href="#方案" style="padding-left:0em" class="toc-link "><span class="transition-shadow duration-500">方案</span></a><a href="#原生-css" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">原生 css</span></a><a href="#scss" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">SCSS</span></a><a href="#css-module" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">CSS Module</span></a><a href="#bootstrap" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">BootStrap</span></a><a href="#tailwind-css" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">Tailwind css</span></a><a href="#原生-css-in-js" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">原生 css in js</span></a><a href="#styled-components" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">Styled-components</span></a><a href="#linaria" style="padding-left:1em" class="toc-link "><span class="transition-shadow duration-500">Linaria</span></a><a href="#构建组建库" style="padding-left:0em" class="toc-link "><span class="transition-shadow duration-500">构建组建库</span></a><a href="#css-框架选择要素" style="padding-left:0em" class="toc-link "><span class="transition-shadow duration-500">CSS 框架选择要素</span></a></div></nav></aside><button class="text-text-gray-2 bg-tag-bg hover:text-text-primary active:bg-accent-hover active:text-text-primary fixed right-4 bottom-8 z-5 h-10 w-10 cursor-pointer rounded-[0.625rem] border-0 text-xl backdrop-blur-sm transition-colors max-lg:block hidden "><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" aria-hidden="true"><path d="M4 5h16"></path><path d="M4 12h16"></path><path d="M4 19h16"></path></svg></button><footer class="pt-6 pb-2.5 text-center text-[10px] text-text-secondary "><nav><a href="https://github.com/sansui233" class="inline-block mx-2 hover:text-accent-hover transition-colors duration-200" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github w-6 h-6" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="mailto:sansuilnm@gmail.com" class="inline-block mx-2 hover:text-accent-hover transition-colors duration-200" aria-label="Email"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail w-6 h-6" aria-hidden="true"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"></path><rect x="2" y="4" width="20" height="16" rx="2"></rect></svg></a><a href="/rss" class="inline-block mx-2 hover:text-accent-hover transition-colors duration-200" aria-label="RSS"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss w-6 h-6" aria-hidden="true"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></nav><div class="my-6 mx-auto tracking-[0.2px]">© Sansui 2026<!-- --> <br/> <!-- -->All rights reserved</div></footer><script>((storageKey2, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({ key }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  })("react-router-scroll-positions", null)</script><script>window.__reactRouterContext = {"basename":"/","future":{"unstable_optimizeDeps":false,"unstable_subResourceIntegrity":false,"v8_middleware":false,"v8_splitRouteModules":false,"v8_viteEnvironmentApi":false},"routeDiscovery":{"mode":"initial"},"ssr":false,"isSpaMode":false};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script type="module" async="">import "/assets/manifest-8eb4c20f.js";
import * as route0 from "/assets/root-BR3ANwdi.js";
import * as route1 from "/assets/RootLayout-CHttVE2X.js";
import * as route2 from "/assets/posts._slug-DRWishpF.js";
  
  window.__reactRouterRouteModules = {"root":route0,"components/RootLayout":route1,"routes/posts.$slug":route2};

import("/assets/entry.client-DkTTQJrl.js");</script><!--$?--><template id="B:1"></template><!--/$--><script id="_R_">requestAnimationFrame(function(){$RT=performance.now()});</script><div hidden id="S:0"><div class="bg-bg border-ui-line-gray-2 fixed top-13.75 right-0 z-11 m-[0_10px] w-96 overflow-hidden rounded-xl border shadow-[0_0_12px_var(--shadow-bg)] transition-all duration-300 ease-out max-[580px]:max-h-[50%] max-[580px]:w-[96%] pointer-events-none invisible -translate-y-2.5 opacity-0 "><div class="bg-bg sticky top-0 p-4 pb-0"><input type="text" placeholder="搜索你感兴趣的内容，以空格分词" class="bg-bg text-text-primary w-full rounded-none border-none focus:outline-none focus-visible:outline-none"/></div><div class="max-h-[60vh] overflow-y-auto px-4 py-2"><div class="text-sm opacity-50"><div class="text-text-gray overflow-hidden text-sm whitespace-nowrap">输入关键词开始搜索</div></div></div></div></div><script>$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};$RC("B:0","S:0")</script><div hidden id="S:1"><script>window.__reactRouterContext.streamController.enqueue("[{\"_1\":2,\"_113\":-5,\"_114\":-5},\"loaderData\",{\"_3\":4},\"routes/posts.$slug\",{\"_5\":6,\"_105\":106,\"_109\":110},\"post\",{\"_7\":8,\"_9\":10,\"_11\":12,\"_13\":14,\"_15\":16,\"_17\":18,\"_23\":24,\"_25\":26,\"_27\":28,\"_29\":30,\"_93\":94,\"_96\":97,\"_98\":99,\"_103\":104},\"title\",\"踩了一圈 CSS 构建方案的坑\",\"slug\",\"2025-07-12-compare-css-solutions\",\"date\",\"2025-07-12T04:49:09.000Z\",\"description\",\"前端代码中质量最薄弱的一环\",\"draft\",false,\"metadata\",{\"_19\":20,\"_21\":22},\"readingTime\",5,\"wordCount\",1394.88,\"excerpt\",\"css 的写法一直算比较混乱的。层叠的样式表与 DOM 结构的分离看似清晰，但也因此容易产生屎山，组合太自由，哪些选择器用了哪些选择器没用，共用的嵌套的，分离的。今天小编就带你一探究竟（……）\\nCSS类复用粒度\\n我自己把 css 选择器（类）的复用粒度分三个层级。\\n组件类\\n粒度最大的层级，通常按组件级别语义化。选择器一般是下面这些名字\\n.wrapper\\n.container\\n.list-item\\n\\n组件化的选择器下面通常有很多条的 css。\\n功能类\\n通常是共用的样式或状态，比如\\n.open\\n.close\\n.ligh\",\"content_html\",\"\u003cp\u003ecss 的写法一直算比较混乱的。层叠的样式表与 DOM 结构的分离看似清晰，但也因此容易产生屎山，组合太自由，哪些选择器用了哪些选择器没用，共用的嵌套的，分离的。今天小编就带你一探究竟（……）\u003c/p\u003e\\n\u003ch2\u003eCSS类复用粒度\u003c/h2\u003e\\n\u003cp\u003e我自己把 css 选择器（类）的复用粒度分三个层级。\u003c/p\u003e\\n\u003ch3\u003e组件类\u003c/h3\u003e\\n\u003cp\u003e粒度最大的层级，通常按组件级别语义化。选择器一般是下面这些名字\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-css\\\"\u003e.wrapper\\n.container\\n.list-item\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e组件化的选择器下面通常有很多条的 css。\u003c/p\u003e\\n\u003ch3\u003e功能类\u003c/h3\u003e\\n\u003cp\u003e通常是共用的样式或状态，比如\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-css\\\"\u003e.open\\n.close\\n.light\\n.dark\\n.glass-effect\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e这个看起来好像和组件类不冲突，但硬说的话组件类其实应该是这样\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-css\\\"\u003e.container.open { 此处将 .open 的所有样式全覆盖 }\\n.container.close { 此处将 .close 的所有样式全覆盖 }\\n.container.light { 此处将 .light 的所有样式全覆盖 }\\n.container.dark { 此处将 .dark 的所有样式全覆盖 }\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e组件类的状态严格在组件的 scope 下。功能类则是可以不限 Scope 的复用。\u003c/p\u003e\\n\u003cp\u003e这 CSS 容易混乱的根源。在工程维护角度，功能类是最不敢乱动的类，不知道动了后哪里样式就会出问题。但在设计角度，用功能类复用一些状态又确实很方便，统一设计也好用。比如增加统一的圆角、描边、阴影样式。\u003c/p\u003e\\n\u003cp\u003e功能类的优缺点是一体两面——图像的只有主观的好看与否，没有客观的对错。\u003c/p\u003e\\n\u003ch3\u003e原子类\u003c/h3\u003e\\n\u003cp\u003e定义海量常用的基础样式类，在 class 上直接写类名就能获得对应效果。就是 tailwind css。\u003c/p\u003e\\n\u003cp\u003e原子类相较于功能类粒度更小，也不会轻易改动 css 属性。\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-css\\\"\u003e.flex\\n.col-1\\n.text-sm\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch2\u003e方案\u003c/h2\u003e\\n\u003cp\u003e通常来说，一个库的样式会着重在一个某一个粒度上。\u003c/p\u003e\\n\u003ch3\u003e原生 css\u003c/h3\u003e\\n\u003cp\u003e用原生 css 时通常会以 \u003cstrong\u003e组件化\u003c/strong\u003e 的粒度为主，带极少的功能类。现在配合 css 变量使用。早期的网页简单，一个 CSS 文件就能搞定全站，设计上并没有考虑项目变得越来越复杂后的实践。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e优点\u003c/strong\u003e：性能好，扁平的结构利好小项目。适合写研究新样式。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e缺点\u003c/strong\u003e：过于扁平，大量工程化后易屎山，存在样式与 DOM 分离带来的维护混乱。\u003c/p\u003e\\n\u003ch3\u003eSCSS\u003c/h3\u003e\\n\u003cp\u003e古法预处理器，可能多层嵌套 css，可组合。是 \u003cstrong\u003e组件化\u003c/strong\u003e 的粒度。在 CSS.module 出来前，用 SCSS 分割 Scope 挺好用。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e优点\u003c/strong\u003e：结构非常清晰\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e缺点\u003c/strong\u003e：\u003c/p\u003e\\n\u003col\u003e\\n\u003cli\u003e编译后的选择器很长一串，从浏览器渲染角度，匹配DOM是耗性能的\u003c/li\u003e\\n\u003cli\u003e难以应对复杂项目 DOM 结构的改变，需要考虑扁平化 + 命名，但这样做和原生 CSS 的维护体验也不相上下。\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003ch3\u003eCSS Module\u003c/h3\u003e\\n\u003cp\u003eCSS Module 是完全 \u003cstrong\u003e组件化\u003c/strong\u003e 的粒度。相比起 SCSS 的样式与 DOM 分离，CSS Module 为组件内部样式耦合，组件间样式分离。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e优点：\u003c/strong\u003e 在组件粒度分割合理的情况下，清晰易维护。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e缺点\u003c/strong\u003e：依赖预构建，写类名写起来太磨叽了。整体我用得不多没法评价。\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-jsx\\\"\u003econst Button = () =\u003e {\\n  return (\\n    \u0026#x3C;button className={styles.button}\u003e\\n      Click me\\n    \u0026#x3C;/button\u003e\\n  );\\n};\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch3\u003eBootStrap\u003c/h3\u003e\\n\u003cp\u003e\u003cstrong\u003e组件化\u003c/strong\u003e 为主，少量原子化修饰的预制样式库，拿来即用是不错的。早期 CSS 框架大多是指预制样式，和预构建的库有本质区别。\u003c/p\u003e\\n\u003ch3\u003eTailwind css\u003c/h3\u003e\\n\u003cp\u003e完全原子化的神奇之库，通过编译可以有功能类和组件类。它更像是重新定义了 css 语法。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e优点\u003c/strong\u003e\u003c/p\u003e\\n\u003col\u003e\\n\u003cli\u003e灵活，快，好看\u003c/li\u003e\\n\u003cli\u003e工具链齐全，可以裁剪掉不用的原子类。\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e\u003cstrong\u003e缺点\u003c/strong\u003e\u003c/p\u003e\\n\u003col\u003e\\n\u003cli\u003e稍微要写复杂一点的样式，DOM 就会被一大堆 class 埋没。\u003c/li\u003e\\n\u003cli\u003e从浏览器渲染角度，匹配、合并大量 CSS 样式是需要更多性能开销的\u003c/li\u003e\\n\u003cli\u003e要做到同种样式的复用，必须组合原子类，变成功能类或组件类，否则维护起来相当麻烦。这似乎违背了用 tailwind css 的初衷，熟悉了 css 的不如直接自己用 css 手撮功能类和组件类。\u003c/li\u003e\\n\u003cli\u003e其实我是 tailwind 黑，嗯。但无法否认开发时确实很快很方便。\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-jsx\\\"\u003efunction Card({ title, description, imageUrl, imageAlt }) {\\n  return (\\n    \u0026#x3C;div className=\\\"max-w-sm rounded overflow-hidden shadow-lg\\\"\u003e\\n      \u0026#x3C;img className=\\\"w-full\\\" src={imageUrl} alt={imageAlt} /\u003e\\n      \u0026#x3C;div className=\\\"px-6 py-4\\\"\u003e\\n        \u0026#x3C;div className=\\\"font-bold text-xl mb-2\\\"\u003e{title}\u0026#x3C;/div\u003e\\n        \u0026#x3C;p className=\\\"text-gray-700 text-base\\\"\u003e{description}\u0026#x3C;/p\u003e\\n      \u0026#x3C;/div\u003e\\n      \u0026#x3C;div className=\\\"px-6 pt-4 pb-2\\\"\u003e\\n        \u0026#x3C;span className=\\\"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2\\\"\u003e#photography\u0026#x3C;/span\u003e\\n        \u0026#x3C;span className=\\\"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2\\\"\u003e#travel\u0026#x3C;/span\u003e\\n        \u0026#x3C;span className=\\\"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2\\\"\u003e#adventure\u0026#x3C;/span\u003e\\n      \u0026#x3C;/div\u003e\\n    \u0026#x3C;/div\u003e\\n  );\\n}\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch3\u003e原生 css in js\u003c/h3\u003e\\n\u003cp\u003e指 JS Object 转译为 CSS。由于写起来太不像 CSS，复杂的功能写起来过于不直观 ，我直接 PASS。\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-jsx\\\"\u003econst InlineStyleExample = () =\u003e {\\n  const myStyle = {\\n    color: 'blue',\\n    backgroundColor: 'lightgray',\\n    padding: '10px',\\n    borderRadius: '5px'\\n  };\\n\\n  return (\\n    \u0026#x3C;div style={myStyle}\u003e\\n      \u0026#x3C;p style={{ fontSize: '18px', fontWeight: 'bold' }}\u003e\\n        This text is styled with inline CSS.\\n      \u0026#x3C;/p\u003e\\n    \u0026#x3C;/div\u003e\\n  );\\n};\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch3\u003eStyled-components\u003c/h3\u003e\\n\u003cp\u003e\u003cstrong\u003e组件化\u003c/strong\u003e的 CSS in JS 方案，写起来像 CSS 实际是 JS。支持客户端动态修改 CSS 具体属性（其他方案做状态改变主要依靠 selector 的匹配）\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e优点\u003c/strong\u003e：\u003c/p\u003e\\n\u003cp\u003e灵活好拓展，比如主题管理不仅仅是颜色，还可以是图片资源一类的。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e缺点\u003c/strong\u003e：\u003c/p\u003e\\n\u003col\u003e\\n\u003cli\u003e因为是 JS 转 CSS，服务器编译慢和客户端渲染慢得选一个\u003c/li\u003e\\n\u003cli\u003eReact 的 useContext 要被废弃了，而 styled-components 严重依赖此 hook，导致进入了维护状态。JS 框架发展太快了。\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-jsx\\\"\u003eimport styled from 'styled-components';\\n\\n// Create a styled button component\\nconst StyledButton = styled.button`\\n  background-color: blue;\\n  font-size: 16px;\\n  padding: 10px 20px;\\n  border-radius: 5px;\\n\\n  \u0026#x26;:hover {\\n    background-color: darkblue;\\n  }\\n`;\\n\\nfunction App() {\\n  return (\\n    \u0026#x3C;div\u003e\\n      \u0026#x3C;StyledButton\u003eClick Me\u0026#x3C;/StyledButton\u003e\\n    \u0026#x3C;/div\u003e\\n  );\\n}\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch3\u003eLinaria\u003c/h3\u003e\\n\u003cp\u003e自定义 \u003cstrong\u003e功能类\u003c/strong\u003e 的 CSS in js 方案，同时也支持 \u003cstrong\u003e组件化\u003c/strong\u003e 写法。生成的是完全静态的 css，样式值的复用靠变量，片段的复用靠 \u003ccode\u003ecss\u003c/code\u003e 生成的类。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e优点\u003c/strong\u003e：\u003c/p\u003e\\n\u003cp\u003e是预构建方案，在服务端渲染。和原始的 CSS 写法和思路差不多。\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e缺点\u003c/strong\u003e：\u003c/p\u003e\\n\u003col\u003e\\n\u003cli\u003e\\n\u003cp\u003e值复用靠变量，但是由于是 \u003cstrong\u003e静态 css\u003c/strong\u003e，这个并不会变。所以变量插值\u003cstrong\u003e其实是常量\u003c/strong\u003e。比如下面的 font-size 并不会变化。\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-jsx\\\"\u003econst fontSize = 16;\\nconst Title = styled.h1`\\n  font-size: ${fontSize}px;\\n`\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e也就是说，你如果想在客户端随意改变字体，用 context/zustand 这种 runtime 的 fontSize，这样写报错。不过，Linaria 允许你借助 react 的 props 和 \u003ccode\u003estyled\u003c/code\u003e 组件来实现客户端的值变化。\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-jsx\\\"\u003econst Title = styled.h1`\\n  font-size: ${props =\u003e props.size}px;\\n`\\nexport default function MyComponent() {\\n  const fontSize = useAppStore(state =\u003e state.fontSize)\\n  return \u0026#x3C;Title fontSize={fontSize}\u003eHello\u0026#x3C;/Title\u003e\\n}\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e相当于生成\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-jsx\\\"\u003e\u0026#x3C;h1\\n  className=\\\"_title_xyz\\\"\\n  style={{ '--linaria-font-size': `${size}px` }}\\n\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e那这和 styled-components 写起来已经差不多了。而且要做主题化的值都得用快要废弃的 \u003ccode\u003euseContext\u003c/code\u003e API。只不过 linaria 改的 style 属性，styled 是改的 css  API。改 style 属性其实已经不能算静态了。\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e组件间的\u003cstrong\u003e样式复用方案\u003c/strong\u003e只有原生的 CSS 方案，上述的奇妙客户端插值做不了这个需求。假设，你要做一个主题化的对话框的卡片阴影，只能使用原生 css 类中加原生 css 变量。上述动态改变样式的因为依赖 props，只能使用 \u003ccode\u003estyled\u003c/code\u003e 的写法，但这样就会把 html 标签了也继承了，不同的样式也无法随意组合。这也是为什么我说 Linaria 是原生 css 的替代，而不是 styled-components 的替代，构建方式就决定他们差得太了远。\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e基于2，导致你写组件又要检查 \u003ccode\u003estyled\u003c/code\u003e 又要确认 \u003ccode\u003ecss\u003c/code\u003e 类又要检查 JSX classname 的顺序。如果用组件继承会被迫连 DOM 类型都继承。\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e使用功能类有点像原子化，又完全不如 tailwind 已经给你预设好一堆东西的效率。写类名和 cssmodule 一样，太磨叽了\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e我博客本想迁移至此方案，但由于工作量实在巨大而放弃。linaria 主要还是解决了个命名空间冲突的问题，想用得更深入一点就会四不像。\u003c/p\u003e\\n\u003cpre\u003e\u003ccode class=\\\"language-jsx\\\"\u003eimport { css } from '@linaria/core';\\n\\nconst eleStyle = css`\\n  color: red;\\n  font-size: 3rem;\\n  \u0026#x26;:hover {\\n    color: blue;\\n  }\\n`;\\n\\nfunction App() {\\n  return \u0026#x3C;h1 className={eleStyle}\u003eHello Linaria!\u0026#x3C;/h1\u003e;\\n}\\n\\nexport default App;\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch2\u003e构建组建库\u003c/h2\u003e\\n\u003cp\u003e每一个 CSS 方案都有对应的构建组件库的实践。 \u003ca href=\\\"https://github.com/shadcn-ui/ui\\\"\u003eshadcn\u003c/a\u003e 是基于 tailwind 构建组件库实践。\u003c/p\u003e\\n\u003ch2\u003eCSS 框架选择要素\u003c/h2\u003e\\n\u003col\u003e\\n\u003cli\u003e样式复用\u003c/li\u003e\\n\u003cli\u003e样式组合\u003c/li\u003e\\n\u003cli\u003e动态样式\u003c/li\u003e\\n\u003cli\u003e主题切换\u003c/li\u003e\\n\u003cli\u003e代码提示\u003c/li\u003e\\n\u003cli\u003e自动裁剪\u003c/li\u003e\\n\u003cli\u003e随意重构\u003c/li\u003e\\n\u003cli\u003e渲染性能\u003c/li\u003e\\n\u003cli\u003e实践的统一性\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cp\u003e最重要的还是自己的需求。\u003c/p\u003e\",\"content_jsx\",\"const{Fragment:s,jsx:n,jsxs:l}=arguments[0];function _createMdxContent(e){const a={a:\\\"a\\\",code:\\\"code\\\",h2:\\\"h2\\\",h3:\\\"h3\\\",li:\\\"li\\\",ol:\\\"ol\\\",p:\\\"p\\\",pre:\\\"pre\\\",span:\\\"span\\\",strong:\\\"strong\\\",...e.components};return l(s,{children:[n(a.p,{children:\\\"css 的写法一直算比较混乱的。层叠的样式表与 DOM 结构的分离看似清晰，但也因此容易产生屎山，组合太自由，哪些选择器用了哪些选择器没用，共用的嵌套的，分离的。今天小编就带你一探究竟（……）\\\"}),\\\"\\\\n\\\",n(a.h2,{id:\\\"css类复用粒度\\\",children:\\\"CSS类复用粒度\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"我自己把 css 选择器（类）的复用粒度分三个层级。\\\"}),\\\"\\\\n\\\",n(a.h3,{id:\\\"组件类\\\",children:\\\"组件类\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"粒度最大的层级，通常按组件级别语义化。选择器一般是下面这些名字\\\"}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-css\\\",children:[n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".wrapper\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".container\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".list-item\\\"}),\\\"\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.p,{children:\\\"组件化的选择器下面通常有很多条的 css。\\\"}),\\\"\\\\n\\\",n(a.h3,{id:\\\"功能类\\\",children:\\\"功能类\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"通常是共用的样式或状态，比如\\\"}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-css\\\",children:[n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".open\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".close\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".light\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".dark\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".glass-effect\\\"}),\\\"\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.p,{children:\\\"这个看起来好像和组件类不冲突，但硬说的话组件类其实应该是这样\\\"}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-css\\\",children:[n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".container\\\"}),n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".open\\\"}),\\\" { 此处将 \\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".open\\\"}),\\\" 的所有样式全覆盖 }\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".container\\\"}),n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".close\\\"}),\\\" { 此处将 \\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".close\\\"}),\\\" 的所有样式全覆盖 }\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".container\\\"}),n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".light\\\"}),\\\" { 此处将 \\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".light\\\"}),\\\" 的所有样式全覆盖 }\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".container\\\"}),n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".dark\\\"}),\\\" { 此处将 \\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".dark\\\"}),\\\" 的所有样式全覆盖 }\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.p,{children:\\\"组件类的状态严格在组件的 scope 下。功能类则是可以不限 Scope 的复用。\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"这 CSS 容易混乱的根源。在工程维护角度，功能类是最不敢乱动的类，不知道动了后哪里样式就会出问题。但在设计角度，用功能类复用一些状态又确实很方便，统一设计也好用。比如增加统一的圆角、描边、阴影样式。\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"功能类的优缺点是一体两面——图像的只有主观的好看与否，没有客观的对错。\\\"}),\\\"\\\\n\\\",n(a.h3,{id:\\\"原子类\\\",children:\\\"原子类\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"定义海量常用的基础样式类，在 class 上直接写类名就能获得对应效果。就是 tailwind css。\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"原子类相较于功能类粒度更小，也不会轻易改动 css 属性。\\\"}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-css\\\",children:[n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".flex\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".col-1\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-selector-class\\\",children:\\\".text-sm\\\"}),\\\"\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.h2,{id:\\\"方案\\\",children:\\\"方案\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"通常来说，一个库的样式会着重在一个某一个粒度上。\\\"}),\\\"\\\\n\\\",n(a.h3,{id:\\\"原生-css\\\",children:\\\"原生 css\\\"}),\\\"\\\\n\\\",l(a.p,{children:[\\\"用原生 css 时通常会以 \\\",n(a.strong,{children:\\\"组件化\\\"}),\\\" 的粒度为主，带极少的功能类。现在配合 css 变量使用。早期的网页简单，一个 CSS 文件就能搞定全站，设计上并没有考虑项目变得越来越复杂后的实践。\\\"]}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"优点\\\"}),\\\"：性能好，扁平的结构利好小项目。适合写研究新样式。\\\"]}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"缺点\\\"}),\\\"：过于扁平，大量工程化后易屎山，存在样式与 DOM 分离带来的维护混乱。\\\"]}),\\\"\\\\n\\\",n(a.h3,{id:\\\"scss\\\",children:\\\"SCSS\\\"}),\\\"\\\\n\\\",l(a.p,{children:[\\\"古法预处理器，可能多层嵌套 css，可组合。是 \\\",n(a.strong,{children:\\\"组件化\\\"}),\\\" 的粒度。在 CSS.module 出来前，用 SCSS 分割 Scope 挺好用。\\\"]}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"优点\\\"}),\\\"：结构非常清晰\\\"]}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"缺点\\\"}),\\\"：\\\"]}),\\\"\\\\n\\\",l(a.ol,{children:[\\\"\\\\n\\\",n(a.li,{children:\\\"编译后的选择器很长一串，从浏览器渲染角度，匹配DOM是耗性能的\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"难以应对复杂项目 DOM 结构的改变，需要考虑扁平化 + 命名，但这样做和原生 CSS 的维护体验也不相上下。\\\"}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",n(a.h3,{id:\\\"css-module\\\",children:\\\"CSS Module\\\"}),\\\"\\\\n\\\",l(a.p,{children:[\\\"CSS Module 是完全 \\\",n(a.strong,{children:\\\"组件化\\\"}),\\\" 的粒度。相比起 SCSS 的样式与 DOM 分离，CSS Module 为组件内部样式耦合，组件间样式分离。\\\"]}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"优点：\\\"}),\\\" 在组件粒度分割合理的情况下，清晰易维护。\\\"]}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"缺点\\\"}),\\\"：依赖预构建，写类名写起来太磨叽了。整体我用得不多没法评价。\\\"]}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-jsx\\\",children:[n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title function_\\\",children:\\\"Button\\\"}),\\\" = (\\\",n(a.span,{className:\\\"hljs-params\\\"}),\\\") =\u003e {\\\\n  \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"return\\\"}),\\\" (\\\\n    \\\",l(a.span,{className:\\\"xml\\\",children:[l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"button\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"{styles.button}\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n      Click me\\\\n    \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"button\\\"}),\\\"\u003e\\\"]})]}),\\\"\\\\n  );\\\\n};\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.h3,{id:\\\"bootstrap\\\",children:\\\"BootStrap\\\"}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"组件化\\\"}),\\\" 为主，少量原子化修饰的预制样式库，拿来即用是不错的。早期 CSS 框架大多是指预制样式，和预构建的库有本质区别。\\\"]}),\\\"\\\\n\\\",n(a.h3,{id:\\\"tailwind-css\\\",children:\\\"Tailwind css\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"完全原子化的神奇之库，通过编译可以有功能类和组件类。它更像是重新定义了 css 语法。\\\"}),\\\"\\\\n\\\",n(a.p,{children:n(a.strong,{children:\\\"优点\\\"})}),\\\"\\\\n\\\",l(a.ol,{children:[\\\"\\\\n\\\",n(a.li,{children:\\\"灵活，快，好看\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"工具链齐全，可以裁剪掉不用的原子类。\\\"}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",n(a.p,{children:n(a.strong,{children:\\\"缺点\\\"})}),\\\"\\\\n\\\",l(a.ol,{children:[\\\"\\\\n\\\",n(a.li,{children:\\\"稍微要写复杂一点的样式，DOM 就会被一大堆 class 埋没。\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"从浏览器渲染角度，匹配、合并大量 CSS 样式是需要更多性能开销的\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"要做到同种样式的复用，必须组合原子类，变成功能类或组件类，否则维护起来相当麻烦。这似乎违背了用 tailwind css 的初衷，熟悉了 css 的不如直接自己用 css 手撮功能类和组件类。\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"其实我是 tailwind 黑，嗯。但无法否认开发时确实很快很方便。\\\"}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-jsx\\\",children:[n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"function\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title function_\\\",children:\\\"Card\\\"}),\\\"(\\\",n(a.span,{className:\\\"hljs-params\\\",children:\\\"{ title, description, imageUrl, imageAlt }\\\"}),\\\") {\\\\n  \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"return\\\"}),\\\" (\\\\n    \\\",l(a.span,{className:\\\"xml\\\",children:[l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"max-w-sm rounded overflow-hidden shadow-lg\\\"'}),\\\"\u003e\\\"]}),\\\"\\\\n      \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"img\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"w-full\\\"'}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"src\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"{imageUrl}\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"alt\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"{imageAlt}\\\"}),\\\" /\u003e\\\"]}),\\\"\\\\n      \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"px-6 py-4\\\"'}),\\\"\u003e\\\"]}),\\\"\\\\n        \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"font-bold text-xl mb-2\\\"'}),\\\"\u003e\\\"]}),\\\"{title}\\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n        \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"p\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"text-gray-700 text-base\\\"'}),\\\"\u003e\\\"]}),\\\"{description}\\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"p\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n      \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n      \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"px-6 pt-4 pb-2\\\"'}),\\\"\u003e\\\"]}),\\\"\\\\n        \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"span\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2\\\"'}),\\\"\u003e\\\"]}),\\\"#photography\\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"span\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n        \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"span\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2\\\"'}),\\\"\u003e\\\"]}),\\\"#travel\\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"span\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n        \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"span\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2\\\"'}),\\\"\u003e\\\"]}),\\\"#adventure\\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"span\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n      \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n    \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\"\u003e\\\"]})]}),\\\"\\\\n  );\\\\n}\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.h3,{id:\\\"原生-css-in-js\\\",children:\\\"原生 css in js\\\"}),\\\"\\\\n\\\",n(a.p,{children:\\\"指 JS Object 转译为 CSS。由于写起来太不像 CSS，复杂的功能写起来过于不直观 ，我直接 PASS。\\\"}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-jsx\\\",children:[n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title function_\\\",children:\\\"InlineStyleExample\\\"}),\\\" = (\\\",n(a.span,{className:\\\"hljs-params\\\"}),\\\") =\u003e {\\\\n  \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" myStyle = {\\\\n    \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"color\\\"}),\\\": \\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"'blue'\\\"}),\\\",\\\\n    \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"backgroundColor\\\"}),\\\": \\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"'lightgray'\\\"}),\\\",\\\\n    \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"padding\\\"}),\\\": \\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"'10px'\\\"}),\\\",\\\\n    \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"borderRadius\\\"}),\\\": \\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"'5px'\\\"}),\\\"\\\\n  };\\\\n\\\\n  \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"return\\\"}),\\\" (\\\\n    \\\",l(a.span,{className:\\\"xml\\\",children:[l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"style\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"{myStyle}\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n      \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"p\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"style\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"{{\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"fontSize:\\\"}),\\\" '\\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"18px\\\"}),\\\"', \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"fontWeight:\\\"}),\\\" '\\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"bold\\\"}),\\\"' }}\u003e\\\"]}),\\\"\\\\n        This text is styled with inline CSS.\\\\n      \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"p\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n    \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\"\u003e\\\"]})]}),\\\"\\\\n  );\\\\n};\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.h3,{id:\\\"styled-components\\\",children:\\\"Styled-components\\\"}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"组件化\\\"}),\\\"的 CSS in JS 方案，写起来像 CSS 实际是 JS。支持客户端动态修改 CSS 具体属性（其他方案做状态改变主要依靠 selector 的匹配）\\\"]}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"优点\\\"}),\\\"：\\\"]}),\\\"\\\\n\\\",n(a.p,{children:\\\"灵活好拓展，比如主题管理不仅仅是颜色，还可以是图片资源一类的。\\\"}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"缺点\\\"}),\\\"：\\\"]}),\\\"\\\\n\\\",l(a.ol,{children:[\\\"\\\\n\\\",n(a.li,{children:\\\"因为是 JS 转 CSS，服务器编译慢和客户端渲染慢得选一个\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"React 的 useContext 要被废弃了，而 styled-components 严重依赖此 hook，导致进入了维护状态。JS 框架发展太快了。\\\"}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-jsx\\\",children:[n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"import\\\"}),\\\" styled \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"from\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"'styled-components'\\\"}),\\\";\\\\n\\\\n\\\",n(a.span,{className:\\\"hljs-comment\\\",children:\\\"// Create a styled button component\\\"}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title class_\\\",children:\\\"StyledButton\\\"}),\\\" = styled.\\\",n(a.span,{className:\\\"hljs-property\\\",children:\\\"button\\\"}),n(a.span,{className:\\\"hljs-string\\\",children:\\\"`\\\\n  background-color: blue;\\\\n  font-size: 16px;\\\\n  padding: 10px 20px;\\\\n  border-radius: 5px;\\\\n\\\\n  \u0026:hover {\\\\n    background-color: darkblue;\\\\n  }\\\\n`\\\"}),\\\";\\\\n\\\\n\\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"function\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title function_\\\",children:\\\"App\\\"}),\\\"(\\\",n(a.span,{className:\\\"hljs-params\\\"}),\\\") {\\\\n  \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"return\\\"}),\\\" (\\\\n    \\\",l(a.span,{className:\\\"xml\\\",children:[l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n      \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"StyledButton\\\"}),\\\"\u003e\\\"]}),\\\"Click Me\\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"StyledButton\\\"}),\\\"\u003e\\\"]}),\\\"\\\\n    \\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"div\\\"}),\\\"\u003e\\\"]})]}),\\\"\\\\n  );\\\\n}\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.h3,{id:\\\"linaria\\\",children:\\\"Linaria\\\"}),\\\"\\\\n\\\",l(a.p,{children:[\\\"自定义 \\\",n(a.strong,{children:\\\"功能类\\\"}),\\\" 的 CSS in js 方案，同时也支持 \\\",n(a.strong,{children:\\\"组件化\\\"}),\\\" 写法。生成的是完全静态的 css，样式值的复用靠变量，片段的复用靠 \\\",n(a.code,{children:\\\"css\\\"}),\\\" 生成的类。\\\"]}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"优点\\\"}),\\\"：\\\"]}),\\\"\\\\n\\\",n(a.p,{children:\\\"是预构建方案，在服务端渲染。和原始的 CSS 写法和思路差不多。\\\"}),\\\"\\\\n\\\",l(a.p,{children:[n(a.strong,{children:\\\"缺点\\\"}),\\\"：\\\"]}),\\\"\\\\n\\\",l(a.ol,{children:[\\\"\\\\n\\\",l(a.li,{children:[\\\"\\\\n\\\",l(a.p,{children:[\\\"值复用靠变量，但是由于是 \\\",n(a.strong,{children:\\\"静态 css\\\"}),\\\"，这个并不会变。所以变量插值\\\",n(a.strong,{children:\\\"其实是常量\\\"}),\\\"。比如下面的 font-size 并不会变化。\\\"]}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-jsx\\\",children:[n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" fontSize = \\\",n(a.span,{className:\\\"hljs-number\\\",children:\\\"16\\\"}),\\\";\\\\n\\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title class_\\\",children:\\\"Title\\\"}),\\\" = styled.\\\",n(a.span,{className:\\\"hljs-property\\\",children:\\\"h1\\\"}),l(a.span,{className:\\\"hljs-string\\\",children:[\\\"`\\\\n  font-size: \\\",n(a.span,{className:\\\"hljs-subst\\\",children:\\\"${fontSize}\\\"}),\\\"px;\\\\n`\\\"]}),\\\"\\\\n\\\"]})}),\\\"\\\\n\\\",l(a.p,{children:[\\\"也就是说，你如果想在客户端随意改变字体，用 context/zustand 这种 runtime 的 fontSize，这样写报错。不过，Linaria 允许你借助 react 的 props 和 \\\",n(a.code,{children:\\\"styled\\\"}),\\\" 组件来实现客户端的值变化。\\\"]}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-jsx\\\",children:[n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title class_\\\",children:\\\"Title\\\"}),\\\" = styled.\\\",n(a.span,{className:\\\"hljs-property\\\",children:\\\"h1\\\"}),l(a.span,{className:\\\"hljs-string\\\",children:[\\\"`\\\\n  font-size: \\\",n(a.span,{className:\\\"hljs-subst\\\",children:\\\"${props =\u003e props.size}\\\"}),\\\"px;\\\\n`\\\"]}),\\\"\\\\n\\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"export\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"default\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"function\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title function_\\\",children:\\\"MyComponent\\\"}),\\\"(\\\",n(a.span,{className:\\\"hljs-params\\\"}),\\\") {\\\\n  \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" fontSize = \\\",n(a.span,{className:\\\"hljs-title function_\\\",children:\\\"useAppStore\\\"}),\\\"(\\\",l(a.span,{className:\\\"hljs-function\\\",children:[n(a.span,{className:\\\"hljs-params\\\",children:\\\"state\\\"}),\\\" =\u003e\\\"]}),\\\" state.\\\",n(a.span,{className:\\\"hljs-property\\\",children:\\\"fontSize\\\"}),\\\")\\\\n  \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"return\\\"}),\\\" \\\",l(a.span,{className:\\\"xml\\\",children:[l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"Title\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"fontSize\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"{fontSize}\\\"}),\\\"\u003e\\\"]}),\\\"Hello\\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"Title\\\"}),\\\"\u003e\\\"]})]}),\\\"\\\\n}\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.p,{children:\\\"相当于生成\\\"}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-jsx\\\",children:[\\\"\u003ch1\\\\n  className=\\\",n(a.span,{className:\\\"hljs-string\\\",children:'\\\"_title_xyz\\\"'}),\\\"\\\\n  style={{ \\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"'--linaria-font-size'\\\"}),\\\": \\\",l(a.span,{className:\\\"hljs-string\\\",children:[\\\"`\\\",n(a.span,{className:\\\"hljs-subst\\\",children:\\\"${size}\\\"}),\\\"px`\\\"]}),\\\" }}\\\\n\u003e\\\\n\\\"]})}),\\\"\\\\n\\\",l(a.p,{children:[\\\"那这和 styled-components 写起来已经差不多了。而且要做主题化的值都得用快要废弃的 \\\",n(a.code,{children:\\\"useContext\\\"}),\\\" API。只不过 linaria 改的 style 属性，styled 是改的 css  API。改 style 属性其实已经不能算静态了。\\\"]}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",l(a.li,{children:[\\\"\\\\n\\\",l(a.p,{children:[\\\"组件间的\\\",n(a.strong,{children:\\\"样式复用方案\\\"}),\\\"只有原生的 CSS 方案，上述的奇妙客户端插值做不了这个需求。假设，你要做一个主题化的对话框的卡片阴影，只能使用原生 css 类中加原生 css 变量。上述动态改变样式的因为依赖 props，只能使用 \\\",n(a.code,{children:\\\"styled\\\"}),\\\" 的写法，但这样就会把 html 标签了也继承了，不同的样式也无法随意组合。这也是为什么我说 Linaria 是原生 css 的替代，而不是 styled-components 的替代，构建方式就决定他们差得太了远。\\\"]}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",l(a.li,{children:[\\\"\\\\n\\\",l(a.p,{children:[\\\"基于2，导致你写组件又要检查 \\\",n(a.code,{children:\\\"styled\\\"}),\\\" 又要确认 \\\",n(a.code,{children:\\\"css\\\"}),\\\" 类又要检查 JSX classname 的顺序。如果用组件继承会被迫连 DOM 类型都继承。\\\"]}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",l(a.li,{children:[\\\"\\\\n\\\",n(a.p,{children:\\\"使用功能类有点像原子化，又完全不如 tailwind 已经给你预设好一堆东西的效率。写类名和 cssmodule 一样，太磨叽了\\\"}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",n(a.p,{children:\\\"我博客本想迁移至此方案，但由于工作量实在巨大而放弃。linaria 主要还是解决了个命名空间冲突的问题，想用得更深入一点就会四不像。\\\"}),\\\"\\\\n\\\",n(a.pre,{children:l(a.code,{className:\\\"hljs language-jsx\\\",children:[n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"import\\\"}),\\\" { css } \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"from\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"'@linaria/core'\\\"}),\\\";\\\\n\\\\n\\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"const\\\"}),\\\" eleStyle = css`\\\",l(a.span,{className:\\\"css\\\",children:[\\\"\\\\n  \\\",n(a.span,{className:\\\"hljs-attribute\\\",children:\\\"color\\\"}),\\\": red;\\\\n  \\\",n(a.span,{className:\\\"hljs-attribute\\\",children:\\\"font-size\\\"}),\\\": \\\",n(a.span,{className:\\\"hljs-number\\\",children:\\\"3rem\\\"}),\\\";\\\\n  \u0026\\\",n(a.span,{className:\\\"hljs-selector-pseudo\\\",children:\\\":hover\\\"}),\\\" {\\\\n    \\\",n(a.span,{className:\\\"hljs-attribute\\\",children:\\\"color\\\"}),\\\": blue;\\\\n  }\\\\n`\\\"]}),\\\";\\\\n\\\\n\\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"function\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title function_\\\",children:\\\"App\\\"}),\\\"(\\\",n(a.span,{className:\\\"hljs-params\\\"}),\\\") {\\\\n  \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"return\\\"}),\\\" \\\",l(a.span,{className:\\\"xml\\\",children:[l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"h1\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-attr\\\",children:\\\"className\\\"}),\\\"=\\\",n(a.span,{className:\\\"hljs-string\\\",children:\\\"{eleStyle}\\\"}),\\\"\u003e\\\"]}),\\\"Hello Linaria!\\\",l(a.span,{className:\\\"hljs-tag\\\",children:[\\\"\u003c/\\\",n(a.span,{className:\\\"hljs-name\\\",children:\\\"h1\\\"}),\\\"\u003e\\\"]})]}),\\\";\\\\n}\\\\n\\\\n\\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"export\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-keyword\\\",children:\\\"default\\\"}),\\\" \\\",n(a.span,{className:\\\"hljs-title class_\\\",children:\\\"App\\\"}),\\\";\\\\n\\\"]})}),\\\"\\\\n\\\",n(a.h2,{id:\\\"构建组建库\\\",children:\\\"构建组建库\\\"}),\\\"\\\\n\\\",l(a.p,{children:[\\\"每一个 CSS 方案都有对应的构建组件库的实践。 \\\",n(a.a,{href:\\\"https://github.com/shadcn-ui/ui\\\",children:\\\"shadcn\\\"}),\\\" 是基于 tailwind 构建组件库实践。\\\"]}),\\\"\\\\n\\\",n(a.h2,{id:\\\"css-框架选择要素\\\",children:\\\"CSS 框架选择要素\\\"}),\\\"\\\\n\\\",l(a.ol,{children:[\\\"\\\\n\\\",n(a.li,{children:\\\"样式复用\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"样式组合\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"动态样式\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"主题切换\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"代码提示\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"自动裁剪\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"随意重构\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"渲染性能\\\"}),\\\"\\\\n\\\",n(a.li,{children:\\\"实践的统一性\\\"}),\\\"\\\\n\\\"]}),\\\"\\\\n\\\",n(a.p,{children:\\\"最重要的还是自己的需求。\\\"})]})}return{default:function(s={}){const{wrapper:l}=s.components||{};return l?n(l,{...s,children:n(_createMdxContent,{...s})}):_createMdxContent(s)}};\",\"toc\",[31,49,85,89],{\"_7\":32,\"_33\":34,\"_35\":36},\"CSS类复用粒度\",\"url\",\"#css类复用粒度\",\"items\",[37,41,45],{\"_7\":38,\"_33\":39,\"_35\":40},\"组件类\",\"#组件类\",[],{\"_7\":42,\"_33\":43,\"_35\":44},\"功能类\",\"#功能类\",[],{\"_7\":46,\"_33\":47,\"_35\":48},\"原子类\",\"#原子类\",[],{\"_7\":50,\"_33\":51,\"_35\":52},\"方案\",\"#方案\",[53,57,61,65,69,73,77,81],{\"_7\":54,\"_33\":55,\"_35\":56},\"原生 css\",\"#原生-css\",[],{\"_7\":58,\"_33\":59,\"_35\":60},\"SCSS\",\"#scss\",[],{\"_7\":62,\"_33\":63,\"_35\":64},\"CSS Module\",\"#css-module\",[],{\"_7\":66,\"_33\":67,\"_35\":68},\"BootStrap\",\"#bootstrap\",[],{\"_7\":70,\"_33\":71,\"_35\":72},\"Tailwind css\",\"#tailwind-css\",[],{\"_7\":74,\"_33\":75,\"_35\":76},\"原生 css in js\",\"#原生-css-in-js\",[],{\"_7\":78,\"_33\":79,\"_35\":80},\"Styled-components\",\"#styled-components\",[],{\"_7\":82,\"_33\":83,\"_35\":84},\"Linaria\",\"#linaria\",[],{\"_7\":86,\"_33\":87,\"_35\":88},\"构建组建库\",\"#构建组建库\",[],{\"_7\":90,\"_33\":91,\"_35\":92},\"CSS 框架选择要素\",\"#css-框架选择要素\",[],\"tags\",[95],\"CSS\",\"categories\",\"学习\",\"keywords\",[95,58,100,101,102,82],\"Bootstrap\",\"tailwind\",\"styled-components\",\"permalink\",\"/posts/2025-07-12-compare-css-solutions\",\"prevPost\",{\"_7\":107,\"_9\":108},\"uv 管理 conda 项目依赖\",\"2025-07-24-embed-python-with-uv\",\"nextPost\",{\"_7\":111,\"_9\":112},\"Steam 假入库是怎么做的\",\"2025-04-22-techs-about-steam-crack\",\"actionData\",\"errors\"]\n");</script><!--$?--><template id="B:2"></template><!--/$--></div><script>$RC("B:1","S:1")</script><div hidden id="S:2"><script>window.__reactRouterContext.streamController.close();</script></div><script>$RC("B:2","S:2")</script></body></html>